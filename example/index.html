<html>
	<head>
		<meta charset="utf-8">
		<title>demo</title>
	</head>
	<body>
		<script type="text/javascript" src="../dist/reo.js"></script>
		<script type="text/javascript">
			const app = reo();

			app.model( {
				name: 'counter',
				state: { count: 0 },
				reducers: {
					add( state ) {
						state.count++;
					},
					minus( state ) {
						state.count--;
					}
				},
				effects: {
					asyncAdd( { put }, num = 1 ) {
						setTimeout(function () {
							put( 'add' );
						}, 4000);
					}
				},
			} );

			const Counter = app.view( {
				// models: [ 'counter' ],
				// components: {},
				props: {
					c: function( state ) {
						return state.counter.count;
					}
				},
				render: `
					{ c }
					<button on-click="{ this.put( 'counter/add' ) }">+</button>
					<button on-click="{ this.put( 'counter/minus' ) }">-</button>
					<button on-click="{ this.put( 'counter/asyncAdd' ) }">async add</button>
				`
			} );

			Counter.inject( document.body );

			app.start();
		</script>
	</body>
</html>
